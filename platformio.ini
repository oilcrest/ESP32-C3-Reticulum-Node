; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = esp32-c3-devkitm-1

; Common build settings
[env]
platform = espressif32
framework = arduino
monitor_speed = 115200
lib_deps =
    jgromes/RadioLib@^6.7.0
    ; HTTP client for IPFS gateway access (lightweight)
    ; Note: ESP32 core includes HTTPClient, but we may need additional libraries
    ; For HAM modem: KISS is already implemented, no additional library needed
build_flags =
    -I include/include
    -Os
build_src_filter =
    +<*>
    +<../include/include/>

; ESP32-C3
[env:esp32-c3-devkitm-1]
board = esp32-c3-devkitm-1
board_build.partitions = huge_app.csv

; ESP32 (original)
[env:esp32dev]
board = esp32dev
board_build.partitions = huge_app.csv

; ESP32-S2
[env:esp32-s2-devkitm-1]
board = esp32-s2-devkitm-1
board_build.partitions = huge_app.csv

; ESP32-S3
[env:esp32-s3-devkitc-1]
board = esp32-s3-devkitc-1
board_build.partitions = huge_app.csv

; ESP32-C5 (when available)
[env:esp32-c5-devkitm-1]
board = esp32-c5-devkitm-1
board_build.partitions = huge_app.csv

; ESP32-C6
[env:esp32-c6-devkitc-1]
board = esp32-c6-devkitc-1
board_build.partitions = huge_app.csv

; Heltec LoRa32 v3 (ESP32-S3 based)
[env:heltec_wifi_lora_32_V3]
board = heltec_wifi_lora_32_V3
board_build.partitions = huge_app.csv
build_flags =
    ${env.build_flags}
    -DHELTEC_LORA32_V3
    -DLORA_ENABLED

; Heltec LoRa32 v4 (ESP32-C6 based)
[env:heltec_wifi_lora_32_V4]
board = heltec_wifi_lora_32_V4
board_build.partitions = huge_app.csv
build_flags =
    ${env.build_flags}
    -DHELTEC_LORA32_V4
    -DLORA_ENABLED

; Example: Enable HAM modem support (add to any environment)
; build_flags = ${env.build_flags} -DHAM_MODEM_ENABLED

; Example: Enable IPFS support (add to any environment)
; build_flags = ${env.build_flags} -DIPFS_ENABLED

; Example: Enable all features
; build_flags = ${env.build_flags} -DLORA_ENABLED -DHAM_MODEM_ENABLED -DIPFS_ENABLED

